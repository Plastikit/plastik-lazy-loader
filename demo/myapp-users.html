<!--
Copyright (c) 2015 The Plastikit Project Authors. All rights reserved.
This code may only be used under the BSD 3-clause license found at
  https://plastikit.github.io/LICENSE.txt
The complete set of authors may be found at
  https://plastikit.github.io/AUTHORS.txt
-->

<link rel="import" href="../../polymer/polymer.html" />
<link rel="import" href="../../paper-header-panel/paper-header-panel.html" />
<link rel="import" href="../../paper-toolbar/paper-toolbar.html" />
<link rel="import" href="../../iron-icons/iron-icons.html" />
<link rel="import" href="../../paper-icon-button/paper-icon-button.html" />
<link rel="import" href="../../paper-input/paper-input.html" />
<link rel="import" href="../../paper-button/paper-button.html" />
<link rel="import" href="../../more-routing/more-routing.html" />

<dom-module id="myapp-users-page">
  <link rel="import" type="css" href="style.css">
  <template>
    <more-route context name="user" params="{{params}}" active="{{single}}"></more-route>

    <paper-header-panel>
      <paper-toolbar>
        <paper-icon-button icon="menu" paper-drawer-toggle on-tap="toggleDrawer"></paper-icon-button>
        <div>Users</div>
      </paper-toolbar>
      <div>
        <div class="basic-card">
          <template is="dom-if" if="[[!single]]">
            <p>Hello!</p>
            <p>Try entering a user ID: <paper-input value="{{userId}}"></paper-input></p>
            <p><paper-button on-tap="goToUser">Then click me!</paper-button></p>
          </template>
          <template is="dom-if" if="[[single]]">
            <p>You selected <span>[[params.userId]]</span>.</p>
            <p><a href="#!/users">Try again?</a></p>
          </template>
        </div>
      </div>
    </paper-header-panel>

  </template>

  <script>
    Polymer({
      is: 'myapp-users-page',
      properties: {
        userId: {
          type: Number,
          value: 12345
        }
      },
      goToUser: function() {
        document.location.hash = '#!/users/' + this.userId;
      },
      toggleDrawer: function() {
        this.fire('paper-drawer-toggle');
      }
    });
  </script>
</dom-module>
